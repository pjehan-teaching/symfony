<section id="installation">

    <section>
        <h2>Installation</h2>
    </section>

    <section>
        <h3>Prérequis</h3>
        <p>Symfony 6+ :</p>
        <ul style="display: block;">
            <li>PHP 8.0.2 +</li>
            <li>Composer / Symfony CLI</li>
            <li>Plusieurs modules PHP (Ctype, iconv, JSON...)</li>
        </ul>
        <p>Doctrine :</p>
        <ul style="display: block;">
            <li>PDO</li>
            <li>MySQL / SQLite / Oracle...</li>
        </ul>
        <footer>
            <a href="https://symfony.com/doc/current/setup.html#technical-requirements" target="_blank" class="info">Requirements</a>
        </footer>
    </section>

    <section>
        <h3>Composer</h3>
        <div class="container">
            <div class="col">
                <ul style="display: block;">
                    <li>Gestionnaire de dépendances</li>
                    <li>Packagist : <a href="https://packagist.org" target="_blank">https://packagist.org</a></li>
                </ul>
                <pre><code class="language-bash">composer require symfony/console
composer update
</code></pre>
            </div>
            <div class="col">
                <img src="assets/images/composer.png" alt="Composer">
            </div>
        </div>
    </section>

    <section>
        <h3>Installation</h3>
        <ul style="display: block;">
            <li>
                Avec Composer
                <ul>
                    <li>Installer Composer : <a href="https://getcomposer.org/doc/00-intro.md" target="_blank">https://getcomposer.org/doc/00-intro.md</a></li>
                    <li><code class="language-bash">composer create-project symfony/skeleton my-project</code> <a href="https://github.com/symfony/skeleton" target="_blank">skeleton</a></li>
                    <li><code class="language-bash">composer create-project symfony/website-skeleton my-project</code> <a href="https://github.com/symfony/website-skeleton" target="_blank">website-skeleton</a></li>
                </ul>
            </li>
            <li>
                Avec Symfony CLI (<del>deprecated</del> de retour dans la V5)
                <ul>
                    <li>Installer l’application Symfony Installer : <a href="https://symfony.com/doc/current/setup.html#creating-symfony-applications" target="_blank">https://symfony.com/doc/current/setup.html#creating-symfony-applications</a></li>
                    <li><code class="language-bash">symfony new my_project_name --webapp</code></li>
                </ul>
            </li>
        </ul>
        <footer>
            <a href="https://symfony.com/doc/current/setup.html" target="_blank" class="info">Setup</a>
        </footer>
    </section>

    <section>
        <h3>Installation</h3>
        <p>Vérifier ensuite la configuration :</p>
        <ul style="display: block;">
            <li><code class="language-bash">composer require requirements-checker</code></li>
            <li><a href="http://localhost/check.php" target="_blank">http://localhost/check.php</a></li>
            <li><code class="language-bash">composer remove requirements-checker</code></li>
        </ul>
        <footer>
            <a href="http://symfony.com/doc/current/reference/requirements.html" target="_blank" class="info">Requirements</a>
        </footer>
    </section>

    <section>
        <h3>Installation</h3>
        <p>Après l’installation, il est souvent nécessaire de régler des <strong>problèmes de droits</strong> sur les dossiers de <strong>cache</strong> et de <strong>logs</strong>.</p>
        <p>Si l’utilisateur en console est différent de celui utilisé par le serveur web, Symfony recommande alors d’utiliser <strong>ACL</strong> pour résoudre les problèmes de permission.</p>
        <footer>
            <a href="https://symfony.com/doc/current/setup/file_permissions.html" target="_blank" class="info">File permissions</a>
        </footer>
    </section>

    <section>
        <h3>Structure du projet</h3>
        <ul style="display: block;">
            <li><strong>bin</strong> : Fichiers exécutables (plus particulièrement console)</li>
            <li><strong>config</strong> : Fichiers de configuration</li>
            <li><strong>public</strong> : Point d’entré de l’application</li>
            <li>
                <strong>src</strong>
                <ul>
                    <li><strong>Controller</strong> : Objets PHP</li>
                    <li><strong>Entity</strong> (Model) : Objets PHP représentant la base de données</li>
                </ul>
            </li>
            <li><strong>var</strong> : Fichiers autogénérés par Symfony (cache, logs...)</li>
            <li><strong>vendor</strong> : Librairies externes téléchargées via Composer</li>
            <li><strong>.env</strong> : Fichier de configuration de l’environnement</li>
        </ul>
        <footer>
            <a href="https://symfony.com/doc/current/quick_tour/the_architecture.html" target="_blank" class="info">Architecture</a>
        </footer>
    </section>

    <section>
        <h3>Bundle</h3>
        <p>Depuis la version 4 de Symfony, l'utilisation de bundles pour développer une application spécifique n'est plus recommandée.</p>
        <p>L'utilisation de bundle doit se faire uniquement pour développer des modules réutilisables.</p>
        <footer>
            <a href="https://symfony.com/doc/current/bundles.html" target="_blank" class="info">Bundles</a>
        </footer>
    </section>

    <section>
        <h3>Attributs vs Annotations vs YAML vs XML</h3>
        <p>Symfony permet d’utiliser différentes techniques afin de définir des <strong>routes</strong>, des contraintes de <strong>sécurités</strong>, le <strong>mapping</strong> du modèle…</p>
        <p>Cependant, Symfony <strong>recommande fortement</strong> l’utilisation des attrbuts dans sa documentation principalement pour leurs <strong>simplicité</strong> d’utilisation.</p>
    </section>

    <section>
        <h3>Console</h3>
        <p>Symfony propose une interface en ligne de commande ou CLI (Command Line Interface).</p>
        <pre><code class="language-bash">php bin/console</code></pre>
        <p>Cette interface est très utile pour :</p>
        <ul>
            <li>Nettoyer le cache</li>
            <li>Construire la base de données</li>
            <li>Générer un nouveau Controller</li>
            <li>Lister les routes</li>
            <li>...</li>
        </ul>
        <footer>
            <a href="http://symfony.com/doc/current/console.html" target="_blank" class="info">Console</a>
        </footer>
    </section>

    <section>
        <h3>Symfony Flex</h3>
        <p>Flex est un plugin Composer permettant d'ajouter des actions sur les commandes require, update et remove.</p>
        <p>Une fois installé, la commande <code class="language-bash">composer require package-name</code> recherchera dans un premier temps sur le serveur Symfony Flex pour rechercher la <strong>recette</strong> correspondante.</p>
    </section>

    <section>
        <h3>Serveur PHP</h3>
        <p>Symfony propose une interaface en ligne de commande permettant de faciliter l'utilisation du serveur PHP :</p>
        <pre><code class="language-bash">symfony server:start</code></pre>
        <p>Vous pouvez ensuite démarrer / stopper le serveur de cette façon :</p>
        <pre><code class="language-bash">symfony server:start -d
php symfony server:stop</code></pre>
        <footer>
            <a href="https://symfony.com/doc/current/setup/built_in_web_server.html" target="_blank" class="info">Symfony built-in Web Server</a>
        </footer>
    </section>

    <section>
        <h3>Maker</h3>
        <p>Pour simplifier l’écriture de notre application, nous allons utiliser MakerBundle. Ce bundle va nous permettre de générer automatiquement du code à notre place (controller, base de données…).</p>
        <pre><code class="language-bash">composer require maker --dev
php bin/console list make
</code></pre>
        <footer>
            <a href="https://symfony.com/doc/current/bundles/SymfonyMakerBundle/index.html" target="_blank" class="info">Maker</a>
        </footer>
    </section>

</section>
